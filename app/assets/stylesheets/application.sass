@import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap')

/* reset */

body
  margin: 0

a
  text-decoration: none
  color: inherit

li 
  list-style-type: none

/* style */

$drkgray: hsl(0, 0%, 15%)
$gray: hsl(0, 5%, 20%)
$lghtgray: hsl(0, 10%, 25%)
$main-bg-color: linear-gradient(150deg, $drkgray 0%, $gray 90%, $lghtgray 100%) no-repeat
$ruby-desat: hsl(0, 60%, 40%)
$ruby: hsl(0, 80%, 40%)
$ruby-darker: hsl(0, 80%, 20%)
$ruby-dark: hsl(0, 80%, 18%)
$ruby-dirty: hsl(0, 10%, 40%)
$ruby-white: hsl(0, 10%, 85%)

$scrollbar-color: $ruby
$li-highlight-color: $ruby
$td-highlight-color: $ruby
$navbar-color: $ruby-darker
$navbar-border-color: $ruby-dark
$task-color: $ruby-desat
$task-completed-color: $ruby-dirty
$main-font-color: $ruby-white
$scrollbar-bg: hsl(0, 0%, 18%)
$head-tr-color: hsla(0, 80%, 40%, 0.5)
$tbody-tr-color-odd: hsla(0, 80%, 40%, 0.15)
$tbody-tr-color-even: hsla(0, 80%, 40%, 0.25)
$tr-hover-color: hsla(0, 80%, 80%, 0.3)

*
  scrollbar-width: thin
  scrollbar-color: $scrollbar-color $scrollbar-bg

*::-webkit-scrollbar
  width: 8px
  height: 8px

*::-webkit-scrollbar-track
  background: $scrollbar-bg

*::-webkit-scrollbar-thumb
  background-color: $scrollbar-color
  border-radius: 20px

html
  font-family: 'Roboto Condensed', helvetica, verdana, Arial, sans-serif
  font-size: 24px
  width: 100vw
  min-height: 100vh
  height: fit-content
  overflow: hidden auto

body
  color: $main-font-color
  height: fit-content
  width: 100%
  background: $main-bg-color
  padding-bottom: 2rem

.menu
  width: 100vw
  height: 3rem
  display: grid
  grid-template-columns: 2fr 2.7fr 1.5fr 2fr
  .menu-item
    display: flex
    border-right: 2px solid $navbar-border-color
    a
      width: 100%
      height: 100%
      display: flex
      justify-content: center
      align-items: center
      background: $navbar-color
      &:hover 
        color: white
    &#profile 
      flex-direction: column
      a 
        margin-right: 38px
        flex-direction: column
        font-size: 0.8em
      a[href='/users/sign_in'], .username
        text-align: center
        justify-content: flex-end
      a[href='/users/sign_up'], a[href='/users/sign_out']
        justify-content: flex-start
    &#skleh img 
      height: 32px
      width: 32px
      margin-right: 10px
      margin-left: 10px
      filter: invert(1)

a.username
  font-size: 0.9em!important

a[href='/users/sign_out']
  font-size: 0.7em!important

.page 
  justify-items: start
  margin: auto
  margin-top: 1.5rem
  display: grid
  gap: 5ch
  grid-template-columns: 2fr 1fr
  width: clamp(200px, 90%, 95%)

#content, #news 
  display: inline-block
  margin: auto
  margin-top: 0

#content
  width: 55ch
  max-width: 100%
  font-size: 1.2em

#news 
  h3
    margin-bottom: 0.5rem
  p 
    margin: 0.2rem

.field 
  margin-bottom: 10px

.tasks-container 
  padding: 0
  display: grid
  gap: 0.75rem
  grid-template-columns: repeat(auto-fit, minmax(8rem, 1fr))

.task-item 
  display: flex
  flex-direction: column
  justify-content: center
  align-items: center
  background: $task-color
  font-size: 1.2rem

  height: 100%
  width: 100%
  border-radius: 10px
  transition: all 150ms
  overflow: hidden

  background-size: cover
  background-position: center
  background-repeat: no-repeat

  color: hsl(0, 0%, 10%)
  line-height: 2rem
  &:hover 
    box-shadow: hsla(0, 10%, 100%, 0.2) 0px 0px 0.5rem
    transform: scale(1.05)
    background: $ruby
  &::before 
    color: hsl(0, 0%, 10%)
    font-size: 2.25rem
    line-height: 0.5rem
    margin-top: 0.5rem
  &.completed 
    background: $task-completed-color

.difficulty-1::before 
  content: '•'

.difficulty-2::before 
  content: '••'

.difficulty-3::before 
  content: '•••'

h1 
  font-size: 3rem
  font-weight: normal

.tasks-page, .contests-page
  width: clamp(200px, 65ch, 80%)
  margin: auto

.contests-page h1
  text-align: center

.contests-container
  width: 100%
  border-spacing: 0
  border-collapse: collapse
  table-layout: fixed
  text-align: left
  text-indent: 2ch
  tr
    font-size: 1.2em
    height: 2.25em
    overflow: hidden
    white-space: nowrap
    text-overflow: ellipsis
  th:first-child
    border-radius: 8px 0 0 0
  th:last-child
    border-radius: 0 8px 0 0
  th, td
    margin: 0
    padding: 0
    border: none
  thead tr th
    background: $head-tr-color
  tbody tr:nth-child(odd)
    background: $tbody-tr-color-odd
  tbody tr:nth-child(even)
    background: $tbody-tr-color-even
  tbody tr:hover
    background: $tr-hover-color
  th
    color: white
  th:nth-child(1) // id
    width: 7ch
  th:nth-child(3) // contest author
    width: 16ch
  th:nth-child(4) // start_date
    width: 18ch
  th:nth-child(5) // end_date
    width: 18ch
  td 
    a
      display: flex
      width: 100%
      height: 100%
      align-items: center
  td a:hover
    background: hsla(0, 0%, 50%, 0.1)
  td:nth-child(3) // contest author
    a:hover
      color: hsl(0, 100%, 50%)

.task-page 
  margin: auto
  margin-top: 2rem
  display: grid
  gap: 5ch
  grid-template-columns: 1fr 1fr
  grid-template-areas: "arrow arrow" "task input" "user-q correct-q"
  width: clamp(200px, 90%, 95%)
  a.back
    grid-area: arrow
    appearance: button
    font-size: 1.5rem
    &:hover
      color: white
  .task-info
    grid-area: task
    height: max-content
    padding: 3ch
    box-shadow: hsl(0, 0%, 25%) 10px 10px 10px
    background: hsl(0, 0%, 15%)
  .sql
    grid-area: input
  #query-result
    grid-area: user-q
  #correct-result
    grid-area: correct-q
  textarea
    width: 100%
    height: 30ch
  input[type='submit']
    margin-top: 2ch
    font-size: 16px
  textarea, input[type='submit']
    color: white
    background: black
    padding: 4px
    &:focus-visible,
      outline: none
      border-color: $ruby
  h2
    margin-top: 0
    font-size: 2rem
    &.task-completed::after
      content: '✓'
      color: hsl(90, 100%, 50%)
  p.task-points-description
    font-size: 0.8rem
  #query-result, #correct-result
    // height: 200vw
    &>span
      display: flex
      margin-bottom: 0.5ch
  label
    display: none
  table
    width: 100%
    border: none
    border-spacing: 0
    border-collapse: collapse
    text-align: left
    tr
      font-size: 1.2em
      height: 2.25em
    th:first-child
      border-radius: 8px 0 0 0
    th:last-child
      border-radius: 0 8px 0 0
    th, td
      margin: 0
      padding: 0
      border: none
      padding: 1ch
    th
      color: white
      background: $head-tr-color
    th:last-child::after, td:last-child::after
      content: 'fill'
      opacity: 0
    tbody tr:nth-child(odd)
      background: $tbody-tr-color-odd
    tbody tr:nth-child(even)
      background: $tbody-tr-color-even
    tbody tr:hover
      background: $tr-hover-color

.login-page, .signup-page, .recover-passwd-page
  width: clamp(400px, 35ch, 90%)
  margin: auto
  margin-top: 4rem
  box-shadow: hsl(0, 0%, 25%) 10px 10px 10px
  h2
    font-size: 2rem
    width: 100%
    height: 3ch
    text-align: center
    background: $ruby
    padding-top: 0.5ch
    margin-bottom: 0
    border-radius: 10px 10px 0 0
  .page-body
    background: hsl(0, 0%, 15%)
    padding: 2ch
    .shared-links
      display: flex
      font-size: 0.7em
      a 
        margin: auto
        display: block
        text-align: right
        opacity: 0.5
      a:hover
        color: white
        opacity: 1
    form
      display: flex
      flex-direction: column
      align-items: center
      .field
        width: 100%
        padding-top: 1.5ch
      .field:first-child
        padding-top: 2.5ch
      label
        font-size: 1.1rem
      input
        font-size: 0.8rem
        width: 100%
        height: 3ch
        margin-top: 0.5ch
        border-radius: 4px
      .remember-field
        text-align: end
        input#user_remember_me
          width: 2ch
          height: 2ch
      .actions
        width: 100%
      input[type='submit']
        font-size: 1.5rem
        height: 100%
        padding: 0.6ch
        display: flex
        justify-content: center
        color: $main-font-color
        background: $ruby
        border: none
        transition: 100ms
        &:hover 
          box-shadow: hsla(0, 10%, 100%, 0.2) 0px 0px 0.5rem
          cursor: pointer
          color: white

.signup-page, .recover-passwd-page
  .page-body form input[type='submit']
    font-size: 1rem

.recover-passwd-page
  h2
    height: 5ch
  .page-body form input[type='submit']
    margin-top: 2ch


@media screen and (max-device-aspect-ratio: 1/1)
  html
    font-size: 32px
  .page
    grid-template-columns: 1fr
    width: clamp(400px, 65ch, 90%)
  #content, #news
    width: 100%
  .task-page
    grid-template-columns: 1fr
    grid-template-areas: "arrow" "task" "input" "user-q" "correct-q"
    p
      font-size: 1.5em
    h2
      font-size: 2.4em
    textarea
      height: 15rem
      font-size: 0.5rem
      padding: 3ch
    input[type='submit']
      font-size: 1.5em
  .login-page, .signup-page, .recover-passwd-page
    width: clamp(400px, 85%, 95%)

@media screen and (max-width: 1100px)
  html
    font-size: 32px
  .page
    grid-template-columns: 1fr
    width: clamp(400px, 65ch, 90%)
  #content, #news
    width: 100%
  .task-page
    grid-template-columns: 1fr
    grid-template-areas: "arrow" "task" "input" "user-q" "correct-q"
    p
      font-size: 1.5em
    h2
      font-size: 2.4em
    textarea
      height: 15rem
      font-size: 0.5rem
      padding: 3ch
    input[type='submit']
      font-size: 1.5em
  .login-page, .signup-page, .recover-passwd-page
    width: clamp(400px, 75%, 95%)
        